
<div class="container-fluid">
    <div class="cajon">
        <div class="titulo">

            <h4 class="gestiones">Administración De Tours - Activos</h4>
        </div>

        <div>
            <form [formGroup]="form">
      
              <label for="" style="margin-right: 5px;">Estado Tours</label>
              <select name="" id="selector" formControlName="seleccion" (change)="cambiar()">
                <!-- <option value="null">Elegir</option> -->
                <option value="activos">activos</option>
                <option value="inactivos">Inactivos</option>
              </select>
            </form>
          </div>

        <div style="text-align: right">
            <a nz-button nzType="primary" routerLink="/administracion/nuevoTour" class="boton">
                <i class="fas fa-suitcase-rolling" style="margin-right: 5px;"></i>Agregar Tour
            </a>
        </div>

        <div class="table">
            <table datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-striped table-bordered row-border hover">
                <thead class="table-dark">
                    <tr>
                        <th>ID</th>
                        <th>PAQUETE</th>
                        <th>MIN CUPOS</th>
                        <th>MAX CUPOS</th>
                        <th>FEC LLEGADA</th>
                        <th>FEC SALIDA</th>
                        <th>PRECIO</th>
                        <th>EMPLEADO</th>
                        <th>ESTADO</th>
                        <th>OPCIÓN</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let item of data; let indice = index">
                        <td *ngIf="item.estado=='ACTIVO' || item.estado=='INACTIVO'">{{ indice + 1 }}</td>
                        <td *ngIf="item.estado=='ACTIVO' || item.estado=='INACTIVO'">{{ item.paquete.nombre }}</td>
                        <td *ngIf="item.estado=='ACTIVO' || item.estado=='INACTIVO'">{{ item.minCupos }}</td>
                        <td *ngIf="item.estado=='ACTIVO' || item.estado=='INACTIVO'">{{ item.maxCupos }}</td>
                        <td *ngIf="item.estado=='ACTIVO' || item.estado=='INACTIVO'">{{ item.fechaLlegada }}</td>
                        <td *ngIf="item.estado=='ACTIVO' || item.estado=='INACTIVO'">{{ item.fechaSalida }}</td>
                        <td *ngIf="item.estado=='ACTIVO' || item.estado=='INACTIVO'">{{ item.paquete.precio }}</td>
                        <td *ngIf="item.estado=='ACTIVO' || item.estado=='INACTIVO'">
                            {{ item.empleado.persona.nombre }} {{ item.empleado.persona.apellido }}
                        </td>
                        <td *ngIf="item.estado=='ACTIVO' || item.estado=='INACTIVO'">
                          {{ item.estado }}
                      </td>
                        <td *ngIf="item.estado=='ACTIVO' || item.estado=='INACTIVO'" nzAlign="center">

                            <div style="display: flex; justify-content: space-evenly; align-items: center;">

                                <div>
                                  <a nz-popover [nzPopoverContent]="editar" [routerLink]="['/administracion/editarTour',item.idTour]" style="color: blue;">
                                    <i class="fas fa-edit" style="font-size: 20px"></i></a>
                    
                                  <ng-template #editar>
                                    Editar Tour: {{item.paquete.nombre}}
                                  </ng-template>
                                </div>
                
                                <div>
                                  <a nz-popover [nzPopoverContent]="ver" style="color: red;" (click)="generar(item.idTour, item.paquete.nombre)">
                                    <i class="far fa-file-pdf" style="font-size: 20px"></i>
                                  </a>
                    
                                  <ng-template #ver>
                                    Ver Pasajeros Del Tour: {{item.paquete.nombre}}
                                  </ng-template>
                                </div>
                
                              </div>
  

                            <!-- <a [routerLink]="['/administracion/editarTour',item.idTour]">
                                <i nz-icon nzType="edit" nzTheme="outline" style="font-size: 20px"></i></a> -->
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>